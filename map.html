<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>Kakao 지도 시작하기</title>
	<style type="text/css">
		html, body{width:100%; height:100%; padding:0px; margin:0px;}
	</style>
</head>
<body>
	<div id="map" style="width:100%;height:100%;"></div>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e02777961eea49050199a6e358812376"></script>
	<script>
		var container = document.getElementById('map');
		var options = {
			center: new kakao.maps.LatLng(37.2038, 127.0909),
			level: 1
		};

		var map = new kakao.maps.Map(container, options);

		// HTML5의 geolocation으로 사용할 수 있는지 확인합니다 
		// if (navigator.geolocation) {
		// 	// GeoLocation을 이용해서 접속 위치를 얻어옵니다
		// 	navigator.geolocation.getCurrentPosition(function(position) {
		// 		lat = position.coords.latitude; // 위도
        //     	lon = position.coords.longitude; // 경도

		// 		var locPosition = new kakao.maps.LatLng(lat, lon);
		// 		var message = '<div style="padding:5px;">I\'m here now!</div>';
		// 		displayMarker(locPosition, message);
		// 	});
		// } else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다
    
		// 	var locPosition = new kakao.maps.LatLng(37.2038, 127.0909);
		// 	var message = 'hello';
			
		// 	displayMarker(locPosition, message);
		// }

		var locPosition = new kakao.maps.LatLng(37.2038, 127.0909);
		var message = 'hello';
		displayMarker(locPosition, message);

		
		function displayMarker(locPosition, message) {
			var imageSrc = 'https://www.donghuna.com/res/map-marker-icon.png'; // 마커이미지의 주소입니다    
			var imageSize = new kakao.maps.Size(120, 120); // 마커이미지의 크기입니다
			var imageOption = {offset: new kakao.maps.Point(60, 120)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.

			// // 마커가 표시될 위치입니다 
			var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);

			// 마커를 생성합니다
			var marker = new kakao.maps.Marker({
				position: locPosition,
				image: markerImage // 마커이미지 설정 
			});


			// 마커가 지도 위에 표시되도록 설정합니다
			marker.setMap(map);

			// 아래 코드는 지도 위의 마커를 제거하는 코드입니다
			// marker.setMap(null);

			var iwContent = message;
			var iwPosition = locPosition; //인포윈도우 표시 위치입니다

			// 인포윈도우를 생성합니다
			var infowindow = new kakao.maps.InfoWindow({
				position : iwPosition, 
				content : iwContent 
			});
			
			// 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
			infowindow.open(map, marker); 
		}
		
	</script>
</body>
</html>
